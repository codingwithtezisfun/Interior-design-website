<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bootstrap Layout</title>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <style>
        .services-left-container {
            background: url('https://via.placeholder.com/150') no-repeat center center;
            background-size: cover;
            position: relative;
            height: 350px;
            color: white;
        }
        .services-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: white;
            padding: 5px;
        }
        .services-text-content {
            z-index: 2;
        }
        .services-right-container {
            position: relative;
            height: 350px;
        }
        .services-jumbotron-custom {
            margin: 10px;
            padding: 20px;
            height: 100px;
            max-width: 300px;
            overflow: hidden;
            transition: height 0.3s ease;
            cursor: pointer;
            position: relative;
        }
        .services-jumbotron-custom.expanded {
            height: 350px;
            width: 300px;
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 1000;
            background-color: rgba(255, 255, 255, 0.9);
            padding: 20px;
            overflow-y: auto;
        }
        .services-collapse-btn {
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1100;
        }
        .services-paragraph-hidden {
            display: none;
        }
        .services-paragraph-visible {
            display: block;
        }
        .services-show-less-btn {
            margin-top: 10px;
            text-align: center;
        }
        .services-toggle-button {
            display: none;
            align-items: center;
            justify-content: center;
        }
        @media (max-width: 767px) {
            .services-left-container {
                display: block;
            }
            .services-right-container {
                display: none;
            }
            .services-toggle-button {
                display: block;
                margin: 50px 0;
                align-items: center;
                justify-content: center;
            }           
        }
        @media (min-width:768px){
            .services-left-container::after {
                content: '';
                position: absolute;
                top: 0;
                right: -150px;
                width: 0;
                height: 0;
                border-top: 175px solid transparent;
                border-bottom: 175px solid transparent;
                border-left: 150px solid rgba(0, 0, 0, 0.6);
            }
            .services-toggle-button {
                display: none;
            }           
        }
    </style>
</head>
<body>
    <div class="container mt-5">
        <div class="row">
            <div class="col-md-4 services-left-container">
                <div class="services-overlay">
                    <div class="services-text-content">
                        <h2>Our Services</h2>
                        <p>Discover our range of services designed to meet your needs.</p>
                        <button id="services-toggle-right-panel-btn" class="btn btn-primary services-toggle-button">Toggle Right Panel</button>
                    </div>
                </div>
            </div>
            <div class="col-md-8">
                <div class="row services-right-container">
                    <div id="services-jumbotron-container" class="col-12 d-flex flex-wrap">
                        <div class="col-lg-4 col-md-6 col-sm-12 services-jumbotron-custom services-jumbotron">
                            <h3>Title 1</h3>
                            <span class="pull-right"><i class="fa fa-arrow-circle-right" style="color:rgb(196, 10, 10);"></i></span>
                            <p class="services-paragraph-hidden">This is the paragraph for Jumbotron 1.scasjkbckjab
                                ascjhbaskjcbkjbkjdbjkbkj
                                dchBSDVkjsdbvDSBV SD VdvhH WEHJCBJHWEFGYE EHFGEFEWUF DHh wavha usaksbc
                                aajfc wiefc we wacha usdka ac ajc m ahdcidbjsd
                                sd
                            </p>
                        </div>
                        <div class="col-lg-4 col-md-6 col-sm-12 services-jumbotron-custom services-jumbotron">
                            <h5>Color grading and selection</h5>
                            <span class="pull-right"><i class="fa fa-arrow-circle-right" style="color:rgb(196, 10, 10);"></i></span>
                            <p class="services-paragraph-hidden">This is the paragraph for Jumbotron 2.</p>
                        </div>
                        <div class="col-lg-4 col-md-6 col-sm-12 services-jumbotron-custom services-jumbotron">
                            <h3>Title 3</h3>
                            <span class="pull-right"><i class="fa fa-arrow-circle-right" style="color:rgb(196, 10, 10);"></i></span>
                            <p class="services-paragraph-hidden">This is the paragraph for Jumbotron 3.</p>
                        </div>
                        <div class="col-lg-4 col-md-6 col-sm-12 services-jumbotron-custom services-jumbotron">
                            <h3>Title 4</h3>
                            <span class="pull-right"><i class="fa fa-arrow-circle-right" style="color:rgb(196, 10, 10);"></i></span>
                            <p class="services-paragraph-hidden">This is the paragraph for Jumbotron 4.</p>
                        </div>
                        <div class="col-lg-4 col-md-6 col-sm-12 services-jumbotron-custom services-jumbotron">
                            <h3>Title 5</h3>
                            <span class="pull-right"><i class="fa fa-arrow-circle-right" style="color:rgb(196, 10, 10);"></i></span>
                            <p class="services-paragraph-hidden">This is the paragraph for Jumbotron 5.</p>
                        </div>
                        <div class="col-lg-4 col-md-6 col-sm-12 services-jumbotron-custom services-jumbotron">
                            <h3>Title 6</h3>
                            <span class="pull-right"><i class="fa fa-arrow-circle-right" style="color:rgb(196, 10, 10);"></i></span>
                            <p class="services-paragraph-hidden">This is the paragraph for Jumbotron 6.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script>
        $(document).ready(function () {
            const jumbotrons = $('.services-jumbotron-custom');
            const rightContainer = $('.services-right-container');
            const toggleRightPanelBtn = $('#services-toggle-right-panel-btn');
            const showLessBtn = $('<button class="btn btn-primary services-show-less-btn">Show Less</button>');

            jumbotrons.click(function () {
                const selectedJumbotron = $(this);
                const paragraphs = selectedJumbotron.find('.services-paragraph-hidden');

                // Show details for the clicked jumbotron
                paragraphs.removeClass('services-paragraph-hidden').addClass('services-paragraph-visible');

                // Hide all other jumbotrons and show the selected one
                jumbotrons.not(selectedJumbotron).addClass('d-none');
                selectedJumbotron.addClass('expanded');

                // Append show less button below the expanded content
                selectedJumbotron.append(showLessBtn);

                // Show right container and hide toggle button for small screens
                if ($(window).width() < 768) {
                    rightContainer.removeClass('d-none');
                    toggleRightPanelBtn.addClass('d-none');
                }
            });

            $(document).on('click', '.services-show-less-btn', function () {
                const selectedJumbotron = $(this).closest('.services-jumbotron-custom');

                // Hide the paragraph when show less button is clicked
                selectedJumbotron.find('.services-paragraph-visible').removeClass('services-paragraph-visible').addClass('services-paragraph-hidden');

                // Hide expanded jumbotron and show original container
                jumbotrons.removeClass('d-none');
                selectedJumbotron.removeClass('expanded');
                showLessBtn.remove();
            });

            toggleRightPanelBtn.click(function () {
                rightContainer.css('display', 'flex');
                $(this).css('display', 'none');
            });
        });
    </script>
</body>
</html>
